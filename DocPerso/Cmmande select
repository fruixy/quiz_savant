<?php
/*Affiche les questions et les reponses */
$query = $pdo->prepare("SELECT * FROM Questions WHERE ID=:ID");
$success = $query->execute([
    "ID"=>intval($_GET["ID"])
]); 
$reponse = $query->fetch(PDO::FETCH_ASSOC);
?>

        Question : <?= $reponse["Q"] ?><br>
        rep A : <?= $reponse["A"]?> <br>
        rep B : <?= $reponse["B"] ?><br>
        rep C : <?= $reponse["C"] ?> <br>
        rep D : <?= $reponse["D"] ?><br>
        Bonne reponse : <?= $reponse["R"] ?>


<?php
/*Affiche les 3 meilleurs joueurs*/ 
$query = $pdo->query("SELECT Nom, Prenom, Score FROM Joueurs ORDER BY Score DESC LIMIT 3;")->fetchAll();

        foreach ($query as $joueur): ?>
          <?= $joueur["Prenom"]?>&nbsp; <?= $joueur["Nom"]?> &nbsp;<?= $joueur["Score"]?><br></a>
        <?php endforeach ; ?>
<br>

 <?php
 /*Affiche le classement des joueurs dans l'ordre*/
$query = $pdo->query("SELECT * FROM Joueurs ORDER BY Score DESC")->fetchAll();

        foreach ($query as $joueur): ?>
          <?= $joueur["Prenom"]?>&nbsp; <?= $joueur["Nom"]?> &nbsp;<?= $joueur["Score"]?><br></a>
        <?php endforeach ; ?>

 
<?php
/*Affiche le classement des classes*/
$query = $pdo->query("SELECT Classe, Score FROM Joueurs ORDER BY Score Desc ;")->fetchAll();

        foreach ($query as $joueur): ?>
            <?= $joueur["Classe"]?> &nbsp;<?= $joueur["Score"]?><br></a>
        <?php endforeach ; ?>
        <br>

<?php
/*Affiche les moyennes des classes*/
$query = $pdo->query("SELECT AVG(Score) AS Score, Classe from Joueurs GROUP BY Classe;")->fetchAll();

        foreach ($query as $joueur): ?>
            <?= $joueur["Classe"]?> &nbsp;<?= $joueur["Score"]?><br></a>
        <?php endforeach ; ?>
